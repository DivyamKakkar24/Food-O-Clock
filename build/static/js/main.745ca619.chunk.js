(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{10:function(e,t,n){e.exports={meal:"MealItem_meal__djlsi",description:"MealItem_description__1_Q2U",price:"MealItem_price__2fG65"}},11:function(e,t,n){e.exports={meals:"AvailableMeals_meals__vKTHL","meals-appear":"AvailableMeals_meals-appear__1ZQKU",MealsLoading:"AvailableMeals_MealsLoading__sN1iq",MealsError:"AvailableMeals_MealsError__1UwVK"}},15:function(e,t,n){e.exports={header:"Header_header__1Xfpj","main-image":"Header_main-image__3Cbu1"}},20:function(e,t,n){e.exports={summary:"MealsSummary_summary__jrCEg"}},21:function(e,t,n){e.exports={card:"Card_card__3Zdeq"}},22:function(e,t,n){e.exports={form:"MealItemForm_form__s7KvU"}},23:function(e,t,n){e.exports={input:"Input_input__1fn_H"}},32:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(18),c=n.n(a),r=n(26),i=n(3),s=n(17),o=n(4),u=n(1),l=n.n(u),d=n(5),j=n(0),m={items:[],totalAmount:0},b=function(e,t){if("ADD"===t.type){var n,a=e.totalAmount+t.item.price*t.item.amount,c=e.items.findIndex((function(e){return e.id===t.item.id})),r=e.items[c];if(r){var i=Object(o.a)(Object(o.a)({},r),{},{amount:r.amount+t.item.amount});(n=Object(s.a)(e.items))[c]=i}else n=e.items.concat(t.item);return{items:n,totalAmount:a}}if("REMOVE"===t.type){var u,l=e.items.findIndex((function(e){return e.id===t.id})),d=e.items[l],j=e.totalAmount-d.price;if(1===d.amount)u=e.items.filter((function(e){return e.id!==t.id}));else{var b=Object(o.a)(Object(o.a)({},d),{},{amount:d.amount-1});(u=Object(s.a)(e.items))[l]=b}return{items:u,totalAmount:j}}return t.type,m},f=function(e){var t=Object(u.useReducer)(b,m),n=Object(i.a)(t,2),a=n[0],c=n[1],r={items:a.items,totalAmount:a.totalAmount,addItem:function(e){c({type:"ADD",item:e})},removeItem:function(e){c({type:"REMOVE",id:e})},clearCart:function(){c({type:"CLEAR"})}};return Object(j.jsx)(d.a.Provider,{value:r,children:e.children})},O=(n(32),function(){return Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(j.jsx)("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})})}),p=n(6),h=n.n(p),x=function(e){var t=Object(u.useState)(!1),n=Object(i.a)(t,2),a=n[0],c=n[1],r=Object(u.useContext)(d.a),s=r.items,o=s.reduce((function(e,t){return e+t.amount}),0),l="".concat(h.a.button," ").concat(a&&h.a.bump);return Object(u.useEffect)((function(){if(0!==r.items.length){c(!0);var e=setTimeout((function(){c(!1)}),300);return function(){clearTimeout(e)}}}),[s]),Object(j.jsxs)("button",{className:l,onClick:e.onClick,children:[Object(j.jsx)("span",{className:h.a.icon,children:Object(j.jsx)(O,{})}),Object(j.jsx)("span",{className:h.a.cartText,children:" Your Cart"}),Object(j.jsx)("span",{className:h.a.badge,children:o})]})},_=n.p+"static/media/meals.2971f633.jpg",v=n(15),g=n.n(v),C=function(e){return Object(j.jsxs)(u.Fragment,{children:[Object(j.jsxs)("header",{className:g.a.header,children:[Object(j.jsx)("h1",{children:"Food O\u2019Clock"}),Object(j.jsx)(x,{onClick:e.onShowCart})]}),Object(j.jsx)("div",{className:g.a["main-image"],children:Object(j.jsx)("img",{src:_,alt:"A table full of delicious food!"})})]})},A=n(20),M=n.n(A),w=function(){return Object(j.jsxs)("section",{className:M.a.summary,children:[Object(j.jsx)("h2",{children:"Delicious Food, Delivered To You"}),Object(j.jsx)("p",{children:"Choose your favorite meal from our broad selection of available meals and enjoy a delicious lunch or dinner at home."}),Object(j.jsx)("p",{children:"All our meals are cooked with high-quality ingredients, just-in-time and of course by experienced chefs!"})]})},y=n(14),N=n.n(y),H=n(19),E=n(21),I=n.n(E),S=function(e){return Object(j.jsx)("div",{className:I.a.card,children:e.children})},k=n(10),D=n.n(k),F=n(22),L=n.n(F),T=n(23),B=n.n(T),R=l.a.forwardRef((function(e,t){return Object(j.jsxs)("div",{className:B.a.input,children:[Object(j.jsx)("label",{htmlFor:e.input.id,children:e.label}),Object(j.jsx)("input",Object(o.a)(Object(o.a)({},e.input),{},{ref:t}))]})})),z=function(e){var t=Object(u.useState)(!0),n=Object(i.a)(t,2),a=n[0],c=n[1],r=Object(u.useRef)();return Object(j.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=r.current.value,a=+n;0===n.trim().length||a<1||a>5?c(!1):e.onAddToCart(a)},className:L.a.form,children:[Object(j.jsx)(R,{ref:r,label:"Amount",input:{id:"amount_"+e.id,type:"number",min:"1",max:"5",step:"1",defaultValue:"1"}}),Object(j.jsx)("button",{children:"+ Add"}),!a&&Object(j.jsx)("p",{children:"Please enter a valid amount (1-5)."})]})},K=function(e){var t=Object(u.useContext)(d.a),n="\u20b9".concat(e.price.toFixed(2));return Object(j.jsxs)("li",{className:D.a.meal,children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:e.name}),Object(j.jsx)("div",{className:D.a.description,children:e.description}),Object(j.jsx)("div",{className:D.a.price,children:n})]}),Object(j.jsx)("div",{children:Object(j.jsx)(z,{id:e.id,onAddToCart:function(n){t.addItem({id:e.id,name:e.name,amount:n,price:e.price})}})})]})},U=n(11),V=n.n(U),q=function(){var e=Object(u.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(u.useState)(!0),r=Object(i.a)(c,2),s=r[0],o=r[1],l=Object(u.useState)(),d=Object(i.a)(l,2),m=d[0],b=d[1];if(Object(u.useEffect)((function(){(function(){var e=Object(H.a)(N.a.mark((function e(){var t,n,c,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://react-http-4e5dc-default-rtdb.firebaseio.com/meals.json");case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Something went wrong!");case 5:return e.next=7,t.json();case 7:for(r in n=e.sent,c=[],n)c.push({id:r,name:n[r].name,description:n[r].description,price:n[r].price});a(c),o(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().catch((function(e){o(!1),b(e.message)}))}),[]),s)return Object(j.jsx)("section",{className:V.a.MealsLoading,children:Object(j.jsx)("p",{children:"Loading..."})});if(m)return Object(j.jsx)("section",{className:V.a.MealsError,children:Object(j.jsx)("p",{children:m})});console.log(n);var f=n.map((function(e){return Object(j.jsx)(K,{id:e.id,name:e.name,description:e.description,price:e.price},e.id)}));return Object(j.jsx)("section",{className:V.a.meals,children:Object(j.jsx)(S,{children:Object(j.jsx)("ul",{children:f})})})},Y=function(){return Object(j.jsxs)(u.Fragment,{children:[Object(j.jsx)(w,{}),Object(j.jsx)(q,{})]})},Z=l.a.lazy((function(){return n.e(3).then(n.bind(null,47))}));var J=function(){var e=Object(u.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(j.jsx)(u.Suspense,{fallback:Object(j.jsx)("p",{children:"Loading..."}),children:Object(j.jsxs)(f,{children:[n&&Object(j.jsx)(Z,{onCloseCart:function(){a(!1)}}),Object(j.jsx)(C,{onShowCart:function(){a(!0)}}),Object(j.jsx)("main",{children:Object(j.jsx)(Y,{})})]})})};c.a.render(Object(j.jsx)(r.a,{children:Object(j.jsx)(f,{children:Object(j.jsx)(J,{})})}),document.getElementById("root"))},5:function(e,t,n){"use strict";var a=n(1),c=n.n(a).a.createContext({items:[],totalAmount:0,addItem:function(e){},removeItem:function(e){},clearCart:function(){}});t.a=c},6:function(e,t,n){e.exports={button:"HeaderCartButton_button__1fb21",icon:"HeaderCartButton_icon__2ODZe",badge:"HeaderCartButton_badge__7SHcY",bump:"HeaderCartButton_bump__czbof"}}},[[42,1,2]]]);
//# sourceMappingURL=main.745ca619.chunk.js.map